MACRO ASSEMBLER 5S                                          10/05/18 18:35:11 PAGE     1


WIN32 MACRO ASSEMBLER MA51 V06.04.14OBJECT MODULE PLACED IN D:\ABITUR\TIT-H\MIKROCONTROLLER\ASSEMBLER-PATTERNS\TIMER\CODE\LAUFLICHTTIMER\REALISTISCH\5MS\CODE\5S.OBJ
ASSEMBLER INVOKED BY: MA51.EXE D:\ABITUR\TIT-H\MIKROCONTROLLER\ASSEMBLER-PATTERNS\TIMER\CODE\LAUFLICHTTIMER\REALISTISCH\5MS\CODE\5S.A51 OJ(D:\ABITUR\TIT-H\MIKROCONTROLLER\ASSEMBLER-PATTERNS\TIMER\CODE\LAUFLICHTTIMER\REALISTISCH\5MS\CODE\5S.OBJ) PIN(C:\RIDE\INC;C:\RIDE\INC\51) PIN(C:\RIDE\INC\51\) EP LINES SYNTAX(ASM51) PR(D:\ABITUR\TIT-H\MIKROCONTROLLER\ASSEMBLER-PATTERNS\TIMER\CODE\LAUFLICHTTIMER\REALISTISCH\5MS\CODE\5S.LST) XR DB PW(80) RB(0) 

LOC     OBJ           LINE    SOURCE
                         1     INCLUDE REG51.INC
                        80     ; Autor    : Daniel Vera gilliard
                        81     ; Beschreibung: Ein lauflicht mit einem 1s Timer als Pause
                        82     ;---------------------------------------------------------------
                        83     
                        84     ; Programmbeginn
0000    020015          85             JMP INIT ; Interrupts Überspringen
                        86     
                        87     ; Interruptroutinen
                        88     
                        89     ; Interrrupt 0
  0003                  90     ORG 03H ; ISR für Interrupt0 wird festgelegt
0003    120007          91     CALL TIMER0_INT ;call timer handling
0006    32              92     RETI
                        93     
                        94     ;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
                        95     ; Interruptbehandlungsroutine Timer 0
                        96     TIMER0_INT: 
0007    758ADC          97             MOV TL0,#0XDC ;Startwert festlegen
000A    758CFF          98             MOV TH0,#0XFF
000D    C28D            99             CLR TF0 ;Timerflag clearen
000F    D28C           100             SETB TR0 ; Timer 0 bit setzen
0011    7580FF         101             MOV P0, #11111111B
0014    22             102             RET
                       103     
                       104     ; Initialisierung
                       105     ;---------------------------------------------------------------
                       106     INIT: 
                       107     
                       108     ;Variablen
0015    791E           109             MOV R1, #30D ;R1 für den timer auf null setzen
0017    7401           110             MOV A, #1D ;Lauflicht auf 1 setzen
                       111     
                       112     ; Timer 0 aktivieren
                       113     ;  Intervall: x.xx ms
0019    758ADC         114             MOV TL0,#0XDC ;Startwert festlegen
001C    758CFF         115             MOV TH0,#0XFF
                       116     
                       117     ; die SFR's initialisieren
001F    758901         118             MOV TMOD,#00000001B ;Timer einschalten
0022    758810         119             MOV TCON,#00010000B ;Timer konfigurieren & starten
                       120     
                       121     ;Interrupts setzen
0025    D2A9           122             SETB ET0 ;Timer 0 setzen
0027    D2AF           123             SETB EA  ; Allgemeine Interrupt freigabe
0029    02002C         124             JMP MAIN
                       125     
                       126     ; Hauptprogramm
                       127     ;---------------------------------------------------------------
                       128     MAIN: 
002C    F580           129     MOV P0, A ;Wert von Akku auf das Lauflicht anzeigen
                       130     
                       131     ;Programm um Lauflicht zu erhöhen
                       132     LAUFLICHT: 
002E    23             133     RL A ;Akku nach links rotieren
002F    B480FA         134     CJNE A, #10000000B, MAIN
0032    758080         135     MOV P0, #10000000B
0035    7401           136     MOV A, #1D
0037    80F3           137     JMP MAIN

*** WARNING #87 IN LINE 59 OF 5s.a51 : MISSING 'END' STATEMENT
MACRO ASSEMBLER 5S                                          10/05/18 18:35:11 PAGE     0


SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES             REFERENCES

DPL. . . . . . . .  D ADDR   0082H   A                          16# 
P0 . . . . . . . .  D ADDR   0080H   A                          8# 101 129 135 
P1 . . . . . . . .  D ADDR   0090H   A                          9# 
B. . . . . . . . .  D ADDR   00F0H   A                          14# 
P2 . . . . . . . .  D ADDR   00A0H   A                          10# 
PS . . . . . . . .  B ADDR   00B8H.4 A                          57# 
SP . . . . . . . .  D ADDR   0081H   A                          15# 
P3 . . . . . . . .  D ADDR   00B0H   A                          11# 
T0 . . . . . . . .  B ADDR   00B0H.4 A                          66# 
AC . . . . . . . .  B ADDR   00D0H.6 A                          34# 
MAIN . . . . . . .  C ADDR   002CH   A                          124 128# 134 137 
                                                                
REN. . . . . . . .  B ADDR   0098H.4 A                          75# 
T1 . . . . . . . .  B ADDR   00B0H.5 A                          65# 
OV . . . . . . . .  B ADDR   00D0H.2 A                          38# 
EA . . . . . . . .  B ADDR   00A8H.7 A                          50# 123 
ACC. . . . . . . .  D ADDR   00E0H   A                          13# 
WR . . . . . . . .  B ADDR   00B0H.6 A                          64# 
ET0. . . . . . . .  B ADDR   00A8H.1 A                          54# 122 
ET1. . . . . . . .  B ADDR   00A8H.3 A                          52# 
TF0. . . . . . . .  B ADDR   0088H.5 A                          43# 99 
TF1. . . . . . . .  B ADDR   0088H.7 A                          41# 
RB8. . . . . . . .  B ADDR   0098H.2 A                          77# 
TH0. . . . . . . .  D ADDR   008CH   A                          23# 98 115 
EX0. . . . . . . .  B ADDR   00A8H.0 A                          55# 
IT0. . . . . . . .  B ADDR   0088H.0 A                          48# 
TH1. . . . . . . .  D ADDR   008DH   A                          24# 
TB8. . . . . . . .  B ADDR   0098H.3 A                          76# 
RXD. . . . . . . .  B ADDR   00B0H.0 A                          70# 
EX1. . . . . . . .  B ADDR   00A8H.2 A                          53# 
IT1. . . . . . . .  B ADDR   0088H.2 A                          46# 
IE . . . . . . . .  D ADDR   00A8H   A                          25# 
SM0. . . . . . . .  B ADDR   0098H.7 A                          72# 
TXD. . . . . . . .  B ADDR   00B0H.1 A                          69# 
P. . . . . . . . .  B ADDR   00D0H.0 A                          39# 
SBUF . . . . . . .  D ADDR   0099H   A                          28# 
TL0. . . . . . . .  D ADDR   008AH   A                          21# 97 114 
PCON . . . . . . .  D ADDR   0087H   A                          18# 
SM1. . . . . . . .  B ADDR   0098H.6 A                          73# 
TL1. . . . . . . .  D ADDR   008BH   A                          22# 
SM2. . . . . . . .  B ADDR   0098H.5 A                          74# 
SCON . . . . . . .  D ADDR   0098H   A                          27# 
INIT . . . . . . .  C ADDR   0015H   A                          85 106# 
PT0. . . . . . . .  B ADDR   00B8H.1 A                          60# 
TMOD . . . . . . .  D ADDR   0089H   A                          20# 118 
TCON . . . . . . .  D ADDR   0088H   A                          19# 119 
PT1. . . . . . . .  B ADDR   00B8H.3 A                          58# 
RS0. . . . . . . .  B ADDR   00D0H.3 A                          37# 
RD . . . . . . . .  B ADDR   00B0H.7 A                          63# 
TR0. . . . . . . .  B ADDR   0088H.4 A                          44# 100 
RS1. . . . . . . .  B ADDR   00D0H.4 A                          36# 
F0 . . . . . . . .  B ADDR   00D0H.5 A                          35# 
TR1. . . . . . . .  B ADDR   0088H.6 A                          42# 
PX0. . . . . . . .  B ADDR   00B8H.0 A                          61# 
ES . . . . . . . .  B ADDR   00A8H.4 A                          51# 
PX1. . . . . . . .  B ADDR   00B8H.2 A                          59# 
IP . . . . . . . .  D ADDR   00B8H   A                          26# 
PSW. . . . . . . .  D ADDR   00D0H   A                          12# 
TIMER0_INT . . . .  C ADDR   0007H   A                          91 96# 
RI . . . . . . . .  B ADDR   0098H.0 A                          79# 
INT0 . . . . . . .  B ADDR   00B0H.2 A                          68# 
LAUFLICHT. . . . .  C ADDR   002EH   A                          132# 
INT1 . . . . . . .  B ADDR   00B0H.3 A                          67# 
CY . . . . . . . .  B ADDR   00D0H.7 A                          33# 
DPH. . . . . . . .  D ADDR   0083H   A                          17# 
TI . . . . . . . .  B ADDR   0098H.1 A                          78# 
IE0. . . . . . . .  B ADDR   0088H.1 A                          47# 
IE1. . . . . . . .  B ADDR   0088H.3 A                          45# 



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     57    ----
   XDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


REGISTER BANK(S) USED : 0 

ASSEMBLY COMPLETE.   1 WARNING(S)   0 ERROR(S)
